<!DOCTYPE html>
<html lang="ca">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pantalla CRT</title>
    <style>
        body {
            background-color: black;
            color: green;
            font-family: monospace;
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
        }
        #output {
            font-size: 20px;
            text-align: center;
        }
    </style>
</head>
<body>
    <div id="output">Carregant...</div>

    <script>
        async function loadIPs() {
            const outputDiv = document.getElementById("output");
            try {
                // Obtenir la IP de l'usuari (frontend)
                const userIpResponse = await fetch("https://api64.ipify.org?format=json");
                const userIpData = await userIpResponse.json();
                const userIp = userIpData.ip;

                // Obtenir la IP del backend
                const backendIpResponse = await fetch("https://games-service.onrender.com/api/backend_ip");
                const backendIpData = await backendIpResponse.json();
                const backendIp = backendIpData.backend_ip;

                // Mostrar les IPs a la pantalla
                outputDiv.innerHTML = `
                    <p>IP de l'usuari: ${userIp}</p>
                    <p>IP del servidor (backend): ${backendIp}</p>
                `;
            } catch (error) {
                outputDiv.innerHTML = "<p>Error carregant les IPs</p>";
                console.error("Error:", error);
            }
        }

        // Carregar les IPs en iniciar la p√†gina
        loadIPs();
    </script>
</body>
</html>
